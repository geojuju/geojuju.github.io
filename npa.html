<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <meta name="viewport" content="initial-scale=1, maximum-scale=1,user-scalable=no">
    <title></title>

    <link rel="stylesheet" href="https://js.arcgis.com/3.16/dijit/themes/tundra/tundra.css">
    <link rel="stylesheet" href="https://js.arcgis.com/3.16/esri/css/esri.css">
    <link rel="stylesheet" href="css/layout.css"/>

     <script>var dojoConfig = {parseOnLoad: true};</script>
     <script src="https://js.arcgis.com/3.16/"></script>
     <script>
        dojo.require("dijit.layout.BorderContainer");
        dojo.require("dijit.layout.ContentPane");
        dojo.require("esri.map");
        dojo.require("esri.IdentityManager");
        dojo.require("esri.dijit.Scalebar");
        dojo.require("esri.arcgis.utils");
        
        var map, urlObject;
        var configOptions;
       
        function init() {
          //This service is for development and testing purposes only. We recommend that you create your own geometry service for use within your applications. 
          esri.config.defaults.geometryService = new esri.tasks.GeometryService("https://tasks.arcgisonline.com/ArcGIS/rest/services/Geometry/GeometryServer");
      
          //specify any default settings for your map 
          //for example a bing maps key or a default web map id
          configOptions = {
            webmap:"989bb09fe5ef48db9220342af176543b",
            title:"",
            subtitle:"",
            //www.arcgis.com sharing url is used. modify this if yours is different
            sharingurl:"https://www.arcgis.com/sharing/rest/content/items"
          };
          
          esri.arcgis.utils.arcgisUrl = configOptions.sharingurl;
          esri.config.defaults.io.proxyUrl = "/proxy/";
          
          //get the web map id from the url 
          urlObject = esri.urlToObject(document.location.href);
          urlObject.query = urlObject.query || {};
          if(urlObject.query && urlObject.query.webmap){
             configOptions.webmap = urlObject.query.webmap;
          }
          
          //create the map using the web map id specified using configOptions or via the url parameter
          var mapDeferred = esri.arcgis.utils
